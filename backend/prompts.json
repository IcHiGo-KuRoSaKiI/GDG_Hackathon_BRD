{
  "_comment": "All AI prompts for BRD Generator - Do NOT hardcode prompts in Python code",
  "_last_updated": "2026-02-07",
  "document_classification": "You are a document classifier for business requirements analysis.\n\nClassify this document into ONE of these types:\n- meeting_notes: Meeting transcripts, discussion notes\n- email_thread: Email conversations, email chains\n- requirements_document: Formal requirements specifications\n- technical_specification: Technical design documents, architecture docs\n- stakeholder_feedback: User research, survey results, feedback\n- project_proposal: Project proposals, pitches\n- slack_conversation: Chat logs, Slack exports\n- other: If none of the above fit\n\nFilename: {filename}\nContent preview (first 1000 characters):\n{content_preview}\n\nReturn JSON in this exact format:\n{{\n  \"document_type\": \"<type>\",\n  \"confidence\": <0.0-1.0>,\n  \"reasoning\": \"<why you chose this classification>\"\n}}\n\nBe precise. Use the filename and content to make an informed decision.",
  "metadata_generation": "You are an expert at analyzing business documents and extracting metadata.\n\nAnalyze this document and generate CONCISE metadata:\n\nDocument:\n{doc_text}\n\nExtract:\n1. Summary: 2-3 sentences max\n2. Tags: Top 5-8 keywords only\n3. Topics: Relevance scores (0.0-1.0) for: authentication, security, user_experience, performance, infrastructure, budget, timeline, technical_architecture, business_requirements, stakeholder_feedback\n4. Content Indicators: Boolean flags for: functional_requirements, non_functional_requirements, decisions, timeline, budget_info, stakeholder_feedback, technical_details, conflicts\n5. Key Entities: Top 5-10 items each for: stakeholders, features, decisions, dates, technologies\n6. Sentiment: Overall sentiment + sentiment for TOP 3 stakeholders only (name, sentiment, top 3 concerns, confidence)\n\nIMPORTANT: Be BRIEF and CONCISE. Limit all lists to max 10 items. Focus on quality over quantity.\n\nReturn JSON matching the MetadataGenerationResponse schema.",
  "requirement_extraction": "You are an expert at extracting requirements from business documents.\n\nAnalyze this document and extract ALL requirements:\n\nDocument:\n{doc_text}\n\nFor each requirement, extract:\n- **Type**: functional or non_functional\n- **Category**: authentication, security, performance, ui_ux, infrastructure, data, integration, compliance, other\n- **Description**: Clear, concise requirement description\n- **Priority**: high, medium, or low (infer from context)\n- **Source Quote**: Exact quote from document that states this requirement\n- **Stakeholder**: Who requested or mentioned this requirement\n- **Acceptance Criteria**: If mentioned, list acceptance criteria\n\nReturn JSON array of requirements:\n[\n  {{\n    \"req_id\": \"<auto_generated_id>\",\n    \"type\": \"<functional/non_functional>\",\n    \"category\": \"<category>\",\n    \"description\": \"<description>\",\n    \"priority\": \"<high/medium/low>\",\n    \"source_quote\": \"<exact quote>\",\n    \"stakeholder\": \"<who mentioned it>\",\n    \"acceptance_criteria\": [\"<criterion1>\", ...]\n  }},\n  ...\n]\n\nBe comprehensive. Extract even implied requirements.",
  "conflict_detection": "You are an expert at detecting conflicts and contradictions in business requirements.\n\nAnalyze these requirements and detect conflicts:\n\nRequirements:\n{requirements_json}\n\nLook for:\n1. **Contradicting Specifications**: Different values for the same thing (e.g., session timeout: 30 min vs 5 min)\n2. **Incompatible Technical Choices**: Technologies that don't work together\n3. **Timeline Conflicts**: Impossible deadlines or dependencies\n4. **Resource Conflicts**: Budget or resource allocation issues\n5. **Business Logic Conflicts**: Contradicting business rules\n\nFor each conflict, provide:\n- **Severity**: high (blocks implementation), medium (needs clarification), low (minor inconsistency)\n- **Type**: specification, technical, timeline, resource, business_logic\n- **Description**: Clear explanation of the conflict\n- **Requirements Involved**: Which requirements conflict (reference req_id)\n- **Impact**: What happens if not resolved\n- **Suggested Resolution**: Recommendation for resolving\n\nReturn JSON array of conflicts:\n[\n  {{\n    \"conflict_id\": \"<auto_generated_id>\",\n    \"severity\": \"<high/medium/low>\",\n    \"type\": \"<type>\",\n    \"description\": \"<clear description>\",\n    \"requirements\": [\n      {{\n        \"req_id\": \"<req_id>\",\n        \"description\": \"<requirement description>\",\n        \"source\": \"<document filename>\"\n      }}\n    ],\n    \"impact\": \"<what happens if not resolved>\",\n    \"suggested_resolution\": \"<recommendation>\"\n  }},\n  ...\n]\n\nIf no conflicts found, return empty array [].\n\nBe thorough but only flag REAL conflicts, not minor differences.",
  "sentiment_analysis": "You are an expert at analyzing stakeholder sentiment in business documents.\n\nAnalyze sentiment for each stakeholder in this document:\n\nDocument:\n{doc_text}\n\nStakeholders to analyze:\n{stakeholders_list}\n\nFor each stakeholder, determine:\n- **Sentiment**: positive, neutral, concerned, or negative\n- **Key Concerns**: What are they worried about? (if any)\n- **Key Motivations**: What do they care about?\n- **Quotes**: Specific quotes showing their sentiment\n- **Confidence**: How confident are you in this assessment (0.0-1.0)\n\nReturn JSON:\n{{\n  \"overall_sentiment\": \"<positive/neutral/mixed/concerned/negative>\",\n  \"stakeholders\": {{\n    \"<stakeholder_name>\": {{\n      \"sentiment\": \"<positive/neutral/concerned/negative>\",\n      \"concerns\": [\"<concern1>\", ...],\n      \"motivations\": [\"<motivation1>\", ...],\n      \"quotes\": [\"<quote1>\", ...],\n      \"confidence\": <0.0-1.0>\n    }}\n  }}\n}}\n\nBase your analysis on actual text, not assumptions.",
  "brd_section_executive_summary": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Executive Summary** section of a BRD.\n\nContext:\n{context}\n\nRequirements extracted:\n{requirements_summary}\n\nConflicts detected:\n{conflicts_summary}\n\nSentiment:\n{sentiment_summary}\n\nWrite a professional Executive Summary that:\n1. Provides high-level overview of the project\n2. States business objectives clearly\n3. Summarizes key requirements (3-5 main points)\n4. Mentions any critical conflicts or risks\n5. Is concise (200-300 words)\n6. Uses professional business language\n7. Cites sources using [1], [2] format\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [\n    {{\n      \"id\": 1,\n      \"doc_filename\": \"<filename>\",\n      \"quote\": \"<exact quote from document>\"\n    }}\n  ]\n}}\n\nMake it clear, professional, and well-cited.",
  "brd_section_business_objectives": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Business Objectives** section of a BRD.\n\nContext:\n{context}\n\nRequirements extracted:\n{requirements_summary}\n\nWrite the Business Objectives section that:\n1. Lists 3-5 clear business objectives\n2. Each objective should be SMART (Specific, Measurable, Achievable, Relevant, Time-bound)\n3. Explains WHY each objective matters\n4. Cites sources from the documents\n5. Uses bullet points or numbered lists\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [\n    {{\n      \"id\": 1,\n      \"doc_filename\": \"<filename>\",\n      \"quote\": \"<exact quote>\"\n    }}\n  ]\n}}",
  "brd_section_stakeholders": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Stakeholder Analysis** section of a BRD.\n\nContext:\n{context}\n\nStakeholders identified:\n{stakeholders_list}\n\nSentiment analysis:\n{sentiment_summary}\n\nWrite the Stakeholder Analysis section that:\n1. Lists all key stakeholders (people, teams, roles)\n2. For each stakeholder:\n   - Their role/title\n   - Their interests/concerns\n   - Their influence level (high/medium/low)\n   - Their sentiment (positive/concerned/negative)\n3. Cites sources\n4. Uses a table or structured format\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content with table>\",\n  \"citations\": [...]\n}}",
  "brd_section_functional_requirements": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Functional Requirements** section of a BRD.\n\nContext:\n{context}\n\nFunctional requirements extracted:\n{functional_requirements}\n\nWrite the Functional Requirements section that:\n1. Lists ALL functional requirements clearly\n2. Groups requirements by category (authentication, user management, data, etc.)\n3. For each requirement:\n   - Clear ID (FR-001, FR-002, etc.)\n   - Description\n   - Priority (Must Have, Should Have, Nice to Have)\n   - Acceptance criteria (if available)\n4. Cites sources\n5. Uses numbered lists or tables\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [...]\n}}",
  "brd_section_non_functional_requirements": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Non-Functional Requirements** section of a BRD.\n\nContext:\n{context}\n\nNon-functional requirements extracted:\n{non_functional_requirements}\n\nWrite the Non-Functional Requirements section that:\n1. Lists ALL non-functional requirements (performance, security, scalability, etc.)\n2. Groups by category:\n   - Performance\n   - Security\n   - Scalability\n   - Reliability\n   - Usability\n   - Compliance\n   - Other\n3. For each requirement:\n   - Clear ID (NFR-001, NFR-002, etc.)\n   - Description with measurable criteria where possible\n   - Priority\n4. Cites sources\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [...]\n}}",
  "brd_section_assumptions": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Assumptions and Constraints** section of a BRD.\n\nContext:\n{context}\n\nAll requirements:\n{all_requirements}\n\nWrite the Assumptions and Constraints section that:\n1. **Assumptions**: Things assumed to be true\n   - Technical assumptions (e.g., \"Users have modern browsers\")\n   - Business assumptions (e.g., \"Budget approval by Q2\")\n   - Resource assumptions (e.g., \"Team of 3 developers available\")\n2. **Constraints**: Limitations\n   - Budget constraints\n   - Timeline constraints\n   - Technical constraints\n   - Resource constraints\n3. Cites sources where assumptions are mentioned\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [...]\n}}",
  "brd_section_success_metrics": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Success Metrics and KPIs** section of a BRD.\n\nContext:\n{context}\n\nBusiness objectives:\n{business_objectives}\n\nWrite the Success Metrics section that:\n1. Defines 5-8 measurable success metrics\n2. Each metric should have:\n   - Metric name\n   - How it's measured\n   - Target value\n   - Measurement frequency\n   - Owner (who tracks it)\n3. Aligns with business objectives\n4. Cites sources where metrics are mentioned\n5. Uses table format for clarity\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content with table>\",\n  \"citations\": [...]\n}}",
  "brd_section_timeline": "You are a professional business analyst writing a Business Requirements Document.\n\nGenerate the **Timeline and Milestones** section of a BRD.\n\nContext:\n{context}\n\nDates and deadlines mentioned:\n{dates_extracted}\n\nWrite the Timeline section that:\n1. Lists key milestones and deadlines\n2. Shows project phases (if mentioned)\n3. Highlights critical dependencies\n4. Notes any timeline conflicts or risks\n5. Uses timeline or table format\n6. Cites sources for all dates\n\nReturn JSON:\n{{\n  \"content\": \"<markdown formatted content>\",\n  \"citations\": [...]\n}}",
  "agent_reasoning": "You are an intelligent agent helping to generate a Business Requirements Document.\n\nYou have access to these documents:\n{documents_summary}\n\nYour task: {task_description}\n\nReason about which documents are most relevant for this task.\n\nConsider:\n1. Document type (meeting notes vs requirements doc)\n2. Topics covered (based on topic scores)\n3. Content indicators (what each doc contains)\n4. Recency (newer docs may override older ones)\n\nReturn JSON:\n{{\n  \"relevant_documents\": [\n    {{\n      \"doc_id\": \"<id>\",\n      \"relevance_score\": <0.0-1.0>,\n      \"reasoning\": \"<why this doc is relevant>\"\n    }}\n  ],\n  \"reasoning\": \"<overall reasoning for your selection>\"\n}}\n\nBe strategic - select docs that provide the most value."
}